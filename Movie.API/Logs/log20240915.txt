2024-09-15 00:00:01.446 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/country/add - application/json 90
2024-09-15 00:00:01.453 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:00:01.453 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.AddCategory (Movie.API)'
2024-09-15 00:00:01.462 +07:00 [INF] Route matched with {action = "AddCategory", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] AddCategory(Movie.API.Features.Countries.AddCountryCommand) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:00:01.627 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__country_Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Name] = @__country_Name_0
2024-09-15 00:00:01.781 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Countries] ([CreateDate], [Description], [IsActive], [LastModifiedDate], [Name], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-09-15 00:00:01.817 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.AddCountryResponse'.
2024-09-15 00:00:01.822 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.AddCategory (Movie.API) in 359.8205ms
2024-09-15 00:00:01.822 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.AddCategory (Movie.API)'
2024-09-15 00:00:01.822 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/country/add - 200 null application/json; charset=utf-8 375.7193ms
2024-09-15 00:00:23.730 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/country/update/1 - application/json 133
2024-09-15 00:00:23.731 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:00:23.731 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.UpdateCategory (Movie.API)'
2024-09-15 00:00:23.736 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Features.Countries.UpdateCountryCommand) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:00:23.766 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:00:23.775 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE 0 = 1
2024-09-15 00:00:23.784 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Countries] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:00:23.812 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Movie.API.Infrastructure.Data.MovieDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2b0128f2-70a5-46a0-9ab2-4e3bdee1bb66
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2b0128f2-70a5-46a0-9ab2-4e3bdee1bb66
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-15 00:00:23.813 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.UpdateCategory (Movie.API) in 76.5406ms
2024-09-15 00:00:23.813 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.UpdateCategory (Movie.API)'
2024-09-15 00:00:23.830 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2b0128f2-70a5-46a0-9ab2-4e3bdee1bb66
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Movie.API.Infrastructure.Repositories.GenericRepository`1.SaveAsync() in D:\Workplace\MoviesApp\Movie-api\Movie.API\Infrastructure\Repositories\GenericRepository.cs:line 55
   at Movie.API.Features.Countries.UpdateCountryCommandHandler.Handle(UpdateCountryCommand request, CancellationToken cancellationToken) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Features\Countries\UpdateCountryCommandHandler.cs:line 46
   at Movie.API.Controllers.CountryController.UpdateCategory(Int32 id, UpdateCountryCommand model) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Controllers\CountryController.cs:line 40
   at lambda_method140(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-15 00:00:23.836 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/country/update/1 - 500 null text/plain; charset=utf-8 105.9914ms
2024-09-15 00:00:38.804 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/country/update/0 - application/json 133
2024-09-15 00:00:38.804 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:00:38.804 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.UpdateCategory (Movie.API)'
2024-09-15 00:00:38.804 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Features.Countries.UpdateCountryCommand) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:00:38.809 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:00:38.810 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE 0 = 1
2024-09-15 00:00:38.811 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.UpdateCategory (Movie.API) in 6.4743ms
2024-09-15 00:00:38.811 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.UpdateCategory (Movie.API)'
2024-09-15 00:00:38.812 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Movie.API.Features.Countries.UpdateCountryCommandHandler.Handle(UpdateCountryCommand request, CancellationToken cancellationToken) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Features\Countries\UpdateCountryCommandHandler.cs:line 44
   at Movie.API.Controllers.CountryController.UpdateCategory(Int32 id, UpdateCountryCommand model) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Controllers\CountryController.cs:line 40
   at lambda_method140(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-15 00:00:38.814 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/country/update/0 - 500 null text/plain; charset=utf-8 10.0259ms
2024-09-15 00:00:46.770 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/api/country/all - null null
2024-09-15 00:00:46.770 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.GetCategories (Movie.API)'
2024-09-15 00:00:46.770 +07:00 [INF] Route matched with {action = "GetCategories", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] GetCategories() on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:00:46.773 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
2024-09-15 00:00:46.775 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.GetCountriesResponse'.
2024-09-15 00:00:46.790 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.GetCategories (Movie.API) in 19.7588ms
2024-09-15 00:00:46.790 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.GetCategories (Movie.API)'
2024-09-15 00:00:46.790 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/api/country/all - 200 null application/json; charset=utf-8 20.5029ms
2024-09-15 00:00:54.205 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/country/update/1 - application/json 133
2024-09-15 00:00:54.205 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:00:54.205 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.UpdateCategory (Movie.API)'
2024-09-15 00:00:54.205 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Features.Countries.UpdateCountryCommand) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:00:54.210 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:00:54.211 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE 0 = 1
2024-09-15 00:00:54.213 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Countries] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:00:54.219 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Movie.API.Infrastructure.Data.MovieDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2b0128f2-70a5-46a0-9ab2-4e3bdee1bb66
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2b0128f2-70a5-46a0-9ab2-4e3bdee1bb66
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-15 00:00:54.220 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.UpdateCategory (Movie.API) in 15.0291ms
2024-09-15 00:00:54.220 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.UpdateCategory (Movie.API)'
2024-09-15 00:00:54.225 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2b0128f2-70a5-46a0-9ab2-4e3bdee1bb66
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Movie.API.Infrastructure.Repositories.GenericRepository`1.SaveAsync() in D:\Workplace\MoviesApp\Movie-api\Movie.API\Infrastructure\Repositories\GenericRepository.cs:line 55
   at Movie.API.Features.Countries.UpdateCountryCommandHandler.Handle(UpdateCountryCommand request, CancellationToken cancellationToken) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Features\Countries\UpdateCountryCommandHandler.cs:line 46
   at Movie.API.Controllers.CountryController.UpdateCategory(Int32 id, UpdateCountryCommand model) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Controllers\CountryController.cs:line 40
   at lambda_method140(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-15 00:00:54.227 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/country/update/1 - 500 null text/plain; charset=utf-8 22.7294ms
2024-09-15 00:03:28.296 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/country/update/1 - application/json 132
2024-09-15 00:03:28.296 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:03:28.296 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.UpdateCategory (Movie.API)'
2024-09-15 00:03:28.296 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Features.Countries.UpdateCountryCommand) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:03:28.311 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:03:28.314 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE 0 = 1
2024-09-15 00:03:28.319 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Countries] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:03:28.322 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Movie.API.Infrastructure.Data.MovieDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2b0128f2-70a5-46a0-9ab2-4e3bdee1bb66
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2b0128f2-70a5-46a0-9ab2-4e3bdee1bb66
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-15 00:03:28.323 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.UpdateCategory (Movie.API) in 26.2239ms
2024-09-15 00:03:28.323 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.UpdateCategory (Movie.API)'
2024-09-15 00:03:28.325 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2b0128f2-70a5-46a0-9ab2-4e3bdee1bb66
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Movie.API.Infrastructure.Repositories.GenericRepository`1.SaveAsync() in D:\Workplace\MoviesApp\Movie-api\Movie.API\Infrastructure\Repositories\GenericRepository.cs:line 55
   at Movie.API.Features.Countries.UpdateCountryCommandHandler.Handle(UpdateCountryCommand request, CancellationToken cancellationToken) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Features\Countries\UpdateCountryCommandHandler.cs:line 46
   at Movie.API.Controllers.CountryController.UpdateCategory(Int32 id, UpdateCountryCommand model) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Controllers\CountryController.cs:line 40
   at lambda_method140(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-15 00:03:28.327 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/country/update/1 - 500 null text/plain; charset=utf-8 30.9071ms
2024-09-15 00:04:04.878 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/country/add - application/json 84
2024-09-15 00:04:04.878 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:04:04.878 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.AddCategory (Movie.API)'
2024-09-15 00:04:04.878 +07:00 [INF] Route matched with {action = "AddCategory", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] AddCategory(Movie.API.Features.Countries.AddCountryCommand) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:04:04.885 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__country_Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Name] = @__country_Name_0
2024-09-15 00:04:04.889 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Countries] ([CreateDate], [Description], [IsActive], [LastModifiedDate], [Name], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-09-15 00:04:04.890 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.AddCountryResponse'.
2024-09-15 00:04:04.890 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.AddCategory (Movie.API) in 11.6022ms
2024-09-15 00:04:04.890 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.AddCategory (Movie.API)'
2024-09-15 00:04:04.890 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/country/add - 200 null application/json; charset=utf-8 12.2011ms
2024-09-15 00:04:11.716 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/country/add - application/json 84
2024-09-15 00:04:11.716 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:04:11.716 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.AddCategory (Movie.API)'
2024-09-15 00:04:11.716 +07:00 [INF] Route matched with {action = "AddCategory", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] AddCategory(Movie.API.Features.Countries.AddCountryCommand) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:04:11.718 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__country_Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Name] = @__country_Name_0
2024-09-15 00:04:11.721 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Countries] ([CreateDate], [Description], [IsActive], [LastModifiedDate], [Name], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-09-15 00:04:11.721 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.AddCountryResponse'.
2024-09-15 00:04:11.721 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.AddCategory (Movie.API) in 5.25ms
2024-09-15 00:04:11.722 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.AddCategory (Movie.API)'
2024-09-15 00:04:11.722 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/country/add - 200 null application/json; charset=utf-8 5.6766ms
2024-09-15 00:04:18.439 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/api/country/all - null null
2024-09-15 00:04:18.439 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.GetCategories (Movie.API)'
2024-09-15 00:04:18.440 +07:00 [INF] Route matched with {action = "GetCategories", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] GetCategories() on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:04:18.442 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
2024-09-15 00:04:18.442 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.GetCountriesResponse'.
2024-09-15 00:04:18.442 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.GetCategories (Movie.API) in 2.8319ms
2024-09-15 00:04:18.443 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.GetCategories (Movie.API)'
2024-09-15 00:04:18.443 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/api/country/all - 200 null application/json; charset=utf-8 3.5483ms
2024-09-15 00:04:36.474 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7039/api/country/delete/3 - null null
2024-09-15 00:04:36.474 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:04:36.474 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.DeleteCategory (Movie.API)'
2024-09-15 00:04:36.477 +07:00 [INF] Route matched with {action = "DeleteCategory", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] DeleteCategory(Int32) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:04:36.484 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:04:36.512 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__p_0
2024-09-15 00:04:36.530 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Countries]
OUTPUT 1
WHERE [Id] = @p0;
2024-09-15 00:04:36.533 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.DeleteCountryResponse'.
2024-09-15 00:04:36.534 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.DeleteCategory (Movie.API) in 56.9137ms
2024-09-15 00:04:36.534 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.DeleteCategory (Movie.API)'
2024-09-15 00:04:36.535 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7039/api/country/delete/3 - 200 null application/json; charset=utf-8 60.9232ms
2024-09-15 00:04:52.337 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/api/country/all - null null
2024-09-15 00:04:52.338 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.GetCategories (Movie.API)'
2024-09-15 00:04:52.338 +07:00 [INF] Route matched with {action = "GetCategories", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] GetCategories() on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:04:52.340 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
2024-09-15 00:04:52.340 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.GetCountriesResponse'.
2024-09-15 00:04:52.340 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.GetCategories (Movie.API) in 2.6429ms
2024-09-15 00:04:52.340 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.GetCategories (Movie.API)'
2024-09-15 00:04:52.341 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/api/country/all - 200 null application/json; charset=utf-8 3.323ms
2024-09-15 00:05:44.406 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 00:05:44.537 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 00:05:44.537 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 00:05:44.539 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 00:05:44.539 +07:00 [INF] Hosting environment: Development
2024-09-15 00:05:44.539 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 00:05:45.137 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 00:05:45.462 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 325.4737ms
2024-09-15 00:05:45.510 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 00:05:45.510 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 00:05:45.516 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 5.8531ms
2024-09-15 00:05:45.545 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.9703ms
2024-09-15 00:05:45.754 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 00:05:45.913 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 159.0467ms
2024-09-15 00:06:05.526 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/country/update/1 - application/json 132
2024-09-15 00:06:05.551 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:06:05.555 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.UpdateCountry (Movie.API)'
2024-09-15 00:06:05.577 +07:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCountry(Int32, Movie.API.Features.Countries.UpdateCountryCommand) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:06:07.248 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:06:07.281 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE 0 = 1
2024-09-15 00:06:07.396 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Countries] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:06:07.431 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Movie.API.Infrastructure.Data.MovieDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:44a4cc3b-3a57-409f-8c82-575d52a97c6c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:44a4cc3b-3a57-409f-8c82-575d52a97c6c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-15 00:06:07.437 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.UpdateCountry (Movie.API) in 1857.0619ms
2024-09-15 00:06:07.438 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.UpdateCountry (Movie.API)'
2024-09-15 00:06:07.452 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:44a4cc3b-3a57-409f-8c82-575d52a97c6c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Movie.API.Infrastructure.Repositories.GenericRepository`1.SaveAsync() in D:\Workplace\MoviesApp\Movie-api\Movie.API\Infrastructure\Repositories\GenericRepository.cs:line 55
   at Movie.API.Features.Countries.UpdateCountryCommandHandler.Handle(UpdateCountryCommand request, CancellationToken cancellationToken) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Features\Countries\UpdateCountryCommandHandler.cs:line 46
   at Movie.API.Controllers.CountryController.UpdateCountry(Int32 id, UpdateCountryCommand model) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Controllers\CountryController.cs:line 40
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-15 00:06:07.463 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/country/update/1 - 500 null text/plain; charset=utf-8 1937.161ms
2024-09-15 00:08:01.384 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/api/country/all - null null
2024-09-15 00:08:01.387 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.GetCountries (Movie.API)'
2024-09-15 00:08:01.402 +07:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] GetCountries() on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:08:01.475 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
2024-09-15 00:08:01.491 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.GetCountriesResponse'.
2024-09-15 00:08:01.507 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.GetCountries (Movie.API) in 104.5973ms
2024-09-15 00:08:01.507 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.GetCountries (Movie.API)'
2024-09-15 00:08:01.507 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/api/country/all - 200 null application/json; charset=utf-8 123.0838ms
2024-09-15 00:08:18.897 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/country/update/1 - application/json 132
2024-09-15 00:08:18.898 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:08:18.898 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.UpdateCountry (Movie.API)'
2024-09-15 00:08:18.898 +07:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCountry(Int32, Movie.API.Features.Countries.UpdateCountryCommand) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:08:18.922 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:08:18.924 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE 0 = 1
2024-09-15 00:08:18.930 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Countries] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:08:18.933 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Movie.API.Infrastructure.Data.MovieDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:44a4cc3b-3a57-409f-8c82-575d52a97c6c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:44a4cc3b-3a57-409f-8c82-575d52a97c6c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-15 00:08:18.934 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.UpdateCountry (Movie.API) in 35.6887ms
2024-09-15 00:08:18.934 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.UpdateCountry (Movie.API)'
2024-09-15 00:08:18.937 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:44a4cc3b-3a57-409f-8c82-575d52a97c6c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Movie.API.Infrastructure.Repositories.GenericRepository`1.SaveAsync() in D:\Workplace\MoviesApp\Movie-api\Movie.API\Infrastructure\Repositories\GenericRepository.cs:line 55
   at Movie.API.Features.Countries.UpdateCountryCommandHandler.Handle(UpdateCountryCommand request, CancellationToken cancellationToken) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Features\Countries\UpdateCountryCommandHandler.cs:line 46
   at Movie.API.Controllers.CountryController.UpdateCountry(Int32 id, UpdateCountryCommand model) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Controllers\CountryController.cs:line 40
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-15 00:08:18.940 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/country/update/1 - 500 null text/plain; charset=utf-8 42.8484ms
2024-09-15 00:09:57.937 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/api/category/all - null null
2024-09-15 00:09:57.937 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.GetCategories (Movie.API)'
2024-09-15 00:09:57.940 +07:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] GetCategories() on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:09:57.955 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
2024-09-15 00:09:57.968 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.GetCategoriesResponse'.
2024-09-15 00:09:57.972 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.GetCategories (Movie.API) in 32.2328ms
2024-09-15 00:09:57.973 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.GetCategories (Movie.API)'
2024-09-15 00:09:57.973 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/api/category/all - 200 null application/json; charset=utf-8 36.1441ms
2024-09-15 00:10:42.307 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 125
2024-09-15 00:10:42.308 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:10:42.309 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:10:42.311 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:10:42.325 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:10:42.330 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:10:42.356 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:10:42.363 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:10:42.365 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 53.0531ms
2024-09-15 00:10:42.365 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:10:42.365 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 57.3328ms
2024-09-15 00:13:29.421 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 00:13:29.602 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 00:13:29.603 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 00:13:29.606 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 00:13:29.607 +07:00 [INF] Hosting environment: Development
2024-09-15 00:13:29.607 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 00:13:29.917 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 00:13:30.164 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 248.5714ms
2024-09-15 00:13:30.176 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 00:13:30.176 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 00:13:30.180 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 4.0931ms
2024-09-15 00:13:30.207 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.1212ms
2024-09-15 00:13:30.523 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 00:13:30.701 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 177.7465ms
2024-09-15 00:14:01.865 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/country/update/2 - application/json 134
2024-09-15 00:14:01.886 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:14:01.889 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.UpdateCountry (Movie.API)'
2024-09-15 00:14:01.909 +07:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCountry(Int32, Movie.API.Features.Countries.UpdateCountryCommand) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:14:03.234 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__p_0
2024-09-15 00:14:03.338 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE 0 = 1
2024-09-15 00:14:03.423 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Countries] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:14:03.451 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Movie.API.Infrastructure.Data.MovieDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8c93bb72-d6c8-41dc-b699-5617c7a4c60b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8c93bb72-d6c8-41dc-b699-5617c7a4c60b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-15 00:14:03.457 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.UpdateCountry (Movie.API) in 1544.958ms
2024-09-15 00:14:03.457 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.UpdateCountry (Movie.API)'
2024-09-15 00:14:03.471 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'MovieDB.dbo.Countries'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8c93bb72-d6c8-41dc-b699-5617c7a4c60b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Movie.API.Infrastructure.Repositories.GenericRepository`1.SaveAsync() in D:\Workplace\MoviesApp\Movie-api\Movie.API\Infrastructure\Repositories\GenericRepository.cs:line 55
   at Movie.API.Features.Countries.UpdateCountryCommandHandler.Handle(UpdateCountryCommand request, CancellationToken cancellationToken) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Features\Countries\UpdateCountryCommandHandler.cs:line 54
   at Movie.API.Controllers.CountryController.UpdateCountry(Int32 id, UpdateCountryCommand model) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Controllers\CountryController.cs:line 40
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-15 00:14:03.483 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/country/update/2 - 500 null text/plain; charset=utf-8 1617.8188ms
2024-09-15 00:14:41.485 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 00:14:41.702 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 00:14:41.702 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 00:14:41.710 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 00:14:41.710 +07:00 [INF] Hosting environment: Development
2024-09-15 00:14:41.710 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 00:14:45.465 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 00:14:45.686 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 227.1626ms
2024-09-15 00:14:45.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 00:14:45.721 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 00:14:45.738 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 20.1884ms
2024-09-15 00:14:45.813 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.541ms
2024-09-15 00:14:45.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 00:14:45.979 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 128.9886ms
2024-09-15 00:14:55.942 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/country/update/2 - application/json 134
2024-09-15 00:14:55.992 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:14:55.997 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.UpdateCountry (Movie.API)'
2024-09-15 00:14:56.022 +07:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCountry(Int32, Movie.API.Features.Countries.UpdateCountryCommand) on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 00:14:56.128 +07:00 [INF] Executing action method Movie.API.Controllers.CountryController.UpdateCountry (Movie.API) - Validation state: "Valid"
2024-09-15 00:15:13.114 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__p_0
2024-09-15 00:15:31.980 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
WHERE 0 = 1
2024-09-15 00:17:58.052 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 00:17:58.572 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 00:17:58.572 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 00:17:58.574 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 00:17:58.575 +07:00 [INF] Hosting environment: Development
2024-09-15 00:17:58.575 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 00:17:58.795 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 00:17:58.962 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 168.5427ms
2024-09-15 00:17:58.977 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 00:17:58.981 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 3.7402ms
2024-09-15 00:17:58.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 00:17:59.035 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.5254ms
2024-09-15 00:17:59.786 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 00:18:00.263 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 476.6632ms
2024-09-15 00:18:06.970 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:06.989 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:06.991 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:07.009 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:09.584 +07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:09.629 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:09.769 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:09.787 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:09.806 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 2793.0815ms
2024-09-15 00:18:09.807 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:09.811 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 2841.7548ms
2024-09-15 00:18:15.099 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:15.101 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:15.102 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:15.102 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:15.157 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:15.158 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:15.162 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:15.163 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:15.163 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 61.5118ms
2024-09-15 00:18:15.163 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:15.164 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 64.2499ms
2024-09-15 00:18:17.286 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:17.286 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:17.287 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:17.287 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:17.305 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:17.306 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:17.309 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:17.309 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:17.309 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 22.4997ms
2024-09-15 00:18:17.309 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:17.309 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 23.3976ms
2024-09-15 00:18:21.804 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:21.805 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:21.805 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:21.805 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:21.807 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:21.808 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:21.810 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:21.810 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:21.811 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 5.7589ms
2024-09-15 00:18:21.811 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:21.811 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 6.5077ms
2024-09-15 00:18:27.835 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:27.835 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:27.835 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:27.835 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:27.837 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:27.838 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:27.858 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:27.858 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:27.858 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 23.0864ms
2024-09-15 00:18:27.858 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:27.859 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 23.9692ms
2024-09-15 00:18:28.618 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:28.619 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:28.619 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:28.619 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:28.620 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:28.622 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:28.637 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:28.637 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:28.637 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 18.6514ms
2024-09-15 00:18:28.637 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:28.638 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 19.3124ms
2024-09-15 00:18:29.259 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:29.260 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:29.260 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:29.260 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:29.262 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:29.263 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:29.266 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:29.266 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:29.266 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 6.3059ms
2024-09-15 00:18:29.266 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:29.266 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 6.9105ms
2024-09-15 00:18:29.486 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:29.486 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:29.486 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:29.486 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:29.488 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:29.489 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:29.491 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:29.492 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:29.492 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 5.7413ms
2024-09-15 00:18:29.492 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:29.492 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 6.2044ms
2024-09-15 00:18:29.861 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:29.861 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:29.861 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:29.861 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:29.863 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:29.865 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:29.867 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:29.868 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:29.868 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 6.4025ms
2024-09-15 00:18:29.868 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:29.868 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 7.0727ms
2024-09-15 00:18:30.044 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:30.046 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:30.046 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:30.046 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:30.048 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:30.049 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:30.052 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:30.052 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:30.052 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 6.2116ms
2024-09-15 00:18:30.052 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:30.052 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 8.669ms
2024-09-15 00:18:30.258 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:30.258 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:30.258 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:30.259 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:30.260 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:30.261 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:30.264 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:30.265 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:30.265 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 6.2109ms
2024-09-15 00:18:30.265 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:30.265 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 6.6686ms
2024-09-15 00:18:30.621 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:30.621 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:30.621 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:30.621 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:30.623 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:30.624 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:30.626 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:30.627 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:30.627 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 5.5465ms
2024-09-15 00:18:30.627 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:30.627 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 5.9756ms
2024-09-15 00:18:30.837 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:30.837 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:30.837 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:30.838 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:30.839 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:30.840 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:30.842 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:30.843 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:30.843 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 5.2676ms
2024-09-15 00:18:30.843 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:30.843 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 5.7882ms
2024-09-15 00:18:31.039 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:31.039 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:31.039 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:31.039 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:31.040 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:31.041 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:31.043 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:31.043 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:31.044 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 4.5421ms
2024-09-15 00:18:31.044 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:31.044 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 5.075ms
2024-09-15 00:18:31.230 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:31.230 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:31.230 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:31.230 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:31.232 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:31.232 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:31.235 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:31.235 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:31.235 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 5.3282ms
2024-09-15 00:18:31.235 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:31.236 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 6.1048ms
2024-09-15 00:18:31.440 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:31.440 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:31.440 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:31.440 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:31.442 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:31.444 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:31.447 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:31.447 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:31.447 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 6.6982ms
2024-09-15 00:18:31.447 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:31.448 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 7.7445ms
2024-09-15 00:18:31.615 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:31.616 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:31.616 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:31.616 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:31.617 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:31.618 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:31.621 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:31.621 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:31.621 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 5.1719ms
2024-09-15 00:18:31.621 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:31.621 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 5.6422ms
2024-09-15 00:18:31.818 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:31.819 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:31.819 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:31.819 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:31.820 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:31.821 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:31.823 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:31.823 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:31.823 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 4.5572ms
2024-09-15 00:18:31.823 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:31.823 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 4.9958ms
2024-09-15 00:18:32.019 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:32.019 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:32.019 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.019 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:32.021 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:32.022 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:32.023 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:32.023 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:32.023 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 3.9513ms
2024-09-15 00:18:32.023 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.023 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 4.4729ms
2024-09-15 00:18:32.209 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:32.210 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:32.210 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.210 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:32.211 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:32.212 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:32.214 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:32.215 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:32.215 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 5.1283ms
2024-09-15 00:18:32.215 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.215 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 5.6577ms
2024-09-15 00:18:32.397 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:32.398 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:32.398 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.398 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:32.400 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:32.401 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:32.403 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:32.403 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:32.404 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 5.6515ms
2024-09-15 00:18:32.404 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.404 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 6.3786ms
2024-09-15 00:18:32.574 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:32.574 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:32.574 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.574 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:32.576 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:32.576 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:32.578 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:32.579 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:32.579 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 4.8601ms
2024-09-15 00:18:32.579 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.579 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 5.3684ms
2024-09-15 00:18:32.758 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:32.758 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:32.758 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.758 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:32.760 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:32.760 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:32.761 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:32.762 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:32.762 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 3.7933ms
2024-09-15 00:18:32.762 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.762 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 4.2677ms
2024-09-15 00:18:32.950 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:32.950 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:32.950 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.950 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:32.951 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:32.952 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:32.954 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:32.954 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:32.955 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 4.5953ms
2024-09-15 00:18:32.955 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:32.955 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 5.2037ms
2024-09-15 00:18:33.132 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:33.132 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:33.132 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:33.133 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:33.134 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:33.135 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:33.137 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:33.137 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:33.137 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 4.5925ms
2024-09-15 00:18:33.137 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:33.137 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 5.0663ms
2024-09-15 00:18:33.491 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:33.491 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:33.491 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:33.492 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:33.493 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:33.494 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:33.495 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:33.496 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:33.496 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 4.1263ms
2024-09-15 00:18:33.496 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:33.496 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 4.6663ms
2024-09-15 00:18:33.705 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/category/update/2 - application/json 134
2024-09-15 00:18:33.706 +07:00 [INF] CORS policy execution successful.
2024-09-15 00:18:33.706 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:33.706 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.CategoryController (Movie.API).
2024-09-15 00:18:33.707 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__request_Id_0
2024-09-15 00:18:33.708 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__request_Name_0
2024-09-15 00:18:33.710 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 00:18:33.710 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateCategoryResponse'.
2024-09-15 00:18:33.710 +07:00 [INF] Executed action Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API) in 4.3963ms
2024-09-15 00:18:33.710 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CategoryController.UpdateCategory (Movie.API)'
2024-09-15 00:18:33.710 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/category/update/2 - 200 null application/json; charset=utf-8 4.9669ms
2024-09-15 21:14:09.610 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 21:14:09.954 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 21:14:09.955 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 21:14:09.957 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 21:14:09.957 +07:00 [INF] Hosting environment: Development
2024-09-15 21:14:09.957 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 21:14:10.573 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 21:14:10.843 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 272.9974ms
2024-09-15 21:14:10.871 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 21:14:10.876 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 4.5172ms
2024-09-15 21:14:10.888 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 21:14:10.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.1058ms
2024-09-15 21:14:11.174 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 21:14:11.378 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 203.8469ms
2024-09-15 21:14:46.125 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 21:14:46.246 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 21:14:46.247 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 21:14:46.249 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 21:14:46.249 +07:00 [INF] Hosting environment: Development
2024-09-15 21:14:46.249 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 21:14:46.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 21:14:47.020 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 174.9723ms
2024-09-15 21:14:47.039 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 21:14:47.045 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 5.244ms
2024-09-15 21:14:47.056 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 21:14:47.095 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.085ms
2024-09-15 21:14:47.368 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 21:14:47.623 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 254.6014ms
2024-09-15 21:15:05.155 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 21:15:05.273 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 21:15:05.273 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 21:15:05.276 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 21:15:05.276 +07:00 [INF] Hosting environment: Development
2024-09-15 21:15:05.276 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 21:15:05.933 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 21:15:06.089 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 156.816ms
2024-09-15 21:15:06.099 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 21:15:06.102 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 3.1378ms
2024-09-15 21:15:06.111 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 21:15:06.133 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.905ms
2024-09-15 21:15:06.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 21:15:06.404 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.0402ms
2024-09-15 21:16:16.302 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 21:16:16.414 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 21:16:16.414 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 21:16:16.416 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 21:16:16.416 +07:00 [INF] Hosting environment: Development
2024-09-15 21:16:16.416 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 21:16:17.010 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 21:16:17.192 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 182.9814ms
2024-09-15 21:16:17.214 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 21:16:17.222 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 8.8264ms
2024-09-15 21:16:17.232 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 21:16:17.270 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.9803ms
2024-09-15 21:16:17.601 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 21:16:17.789 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 187.9032ms
2024-09-15 21:16:43.171 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 21:16:43.302 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 21:16:43.302 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 21:16:43.305 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 21:16:43.305 +07:00 [INF] Hosting environment: Development
2024-09-15 21:16:43.305 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 21:16:43.833 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 21:16:44.001 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 167.9184ms
2024-09-15 21:16:44.008 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 21:16:44.011 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 2.6247ms
2024-09-15 21:16:44.023 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 21:16:44.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.2638ms
2024-09-15 21:16:44.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 21:16:44.409 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.8849ms
2024-09-15 21:16:52.381 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/api/schedule/all - null null
2024-09-15 21:16:52.413 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.ScheduleController.GetCategories (Movie.API)'
2024-09-15 21:16:52.443 +07:00 [INF] Route matched with {action = "GetCategories", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] GetCategories() on controller Movie.API.Controllers.ScheduleController (Movie.API).
2024-09-15 21:16:54.718 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
2024-09-15 21:16:54.907 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.GetSchedulesResponse'.
2024-09-15 21:16:54.931 +07:00 [INF] Executed action Movie.API.Controllers.ScheduleController.GetCategories (Movie.API) in 2484.4681ms
2024-09-15 21:16:54.932 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.ScheduleController.GetCategories (Movie.API)'
2024-09-15 21:16:54.937 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/api/schedule/all - 200 null application/json; charset=utf-8 2556.5547ms
2024-09-15 21:17:50.654 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/schedule/add - application/json 87
2024-09-15 21:17:50.662 +07:00 [INF] CORS policy execution successful.
2024-09-15 21:17:50.662 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.ScheduleController.AddCategory (Movie.API)'
2024-09-15 21:17:50.670 +07:00 [INF] Route matched with {action = "AddCategory", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] AddCategory(Movie.API.Requests.AddCategoryRequest) on controller Movie.API.Controllers.ScheduleController (Movie.API).
2024-09-15 21:17:50.944 +07:00 [INF] Executed DbCommand (70ms) [Parameters=[@__schedule_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
WHERE [s].[Name] = @__schedule_Name_0
2024-09-15 21:17:51.098 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedule] ([CreateDate], [Description], [IsActive], [LastModifiedDate], [Name], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-09-15 21:17:51.139 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Movie.API.Infrastructure.Data.MovieDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'MovieDB.dbo.Schedule'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:760ce5e6-6e6e-45d2-b831-c2c86573baa7
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'MovieDB.dbo.Schedule'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:760ce5e6-6e6e-45d2-b831-c2c86573baa7
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-15 21:17:51.140 +07:00 [INF] Executed action Movie.API.Controllers.ScheduleController.AddCategory (Movie.API) in 469.9262ms
2024-09-15 21:17:51.143 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.ScheduleController.AddCategory (Movie.API)'
2024-09-15 21:17:51.166 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'MovieDB.dbo.Schedule'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:760ce5e6-6e6e-45d2-b831-c2c86573baa7
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Movie.API.Infrastructure.Repositories.GenericRepository`1.SaveAsync() in D:\Workplace\MoviesApp\Movie-api\Movie.API\Infrastructure\Repositories\GenericRepository.cs:line 55
   at Movie.API.Features.Schedules.AddScheduleCommandHandler.Handle(AddScheduleCommand request, CancellationToken cancellationToken) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Features\Schedules\AddScheduleCommandHandler.cs:line 37
   at Movie.API.Controllers.ScheduleController.AddCategory(AddCategoryRequest model) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Controllers\ScheduleController.cs:line 30
   at lambda_method39(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-15 21:17:51.174 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/schedule/add - 500 null text/plain; charset=utf-8 520.0816ms
2024-09-15 21:20:54.608 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 21:20:54.723 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 21:20:54.723 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 21:20:54.726 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 21:20:54.726 +07:00 [INF] Hosting environment: Development
2024-09-15 21:20:54.726 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 21:20:55.230 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 21:20:55.466 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 237.0055ms
2024-09-15 21:20:55.473 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 21:20:55.476 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 21:20:55.478 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 2.6562ms
2024-09-15 21:20:55.496 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.9359ms
2024-09-15 21:20:55.706 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 21:20:55.920 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 214.092ms
2024-09-15 21:21:06.901 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/schedule/add - application/json 87
2024-09-15 21:21:06.922 +07:00 [INF] CORS policy execution successful.
2024-09-15 21:21:06.924 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.ScheduleController.AddCategory (Movie.API)'
2024-09-15 21:21:06.943 +07:00 [INF] Route matched with {action = "AddCategory", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] AddCategory(Movie.API.Requests.AddCategoryRequest) on controller Movie.API.Controllers.ScheduleController (Movie.API).
2024-09-15 21:21:08.304 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__schedule_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
WHERE [s].[Name] = @__schedule_Name_0
2024-09-15 21:21:08.497 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedule] ([CreateDate], [Description], [IsActive], [LastModifiedDate], [Name], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-09-15 21:21:08.534 +07:00 [INF] Executed action Movie.API.Controllers.ScheduleController.AddCategory (Movie.API) in 1587.4183ms
2024-09-15 21:21:08.535 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.ScheduleController.AddCategory (Movie.API)'
2024-09-15 21:21:08.558 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Schedule -> CategoryDTO
Movie.API.Models.Domain.Entities.Schedule -> Movie.API.Responses.DTOs.CategoryDTO
   at lambda_method125(Closure, Object, CategoryDTO, ResolutionContext)
   at Movie.API.Features.Schedules.AddScheduleCommandHandler.Handle(AddScheduleCommand request, CancellationToken cancellationToken) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Features\Schedules\AddScheduleCommandHandler.cs:line 38
   at Movie.API.Controllers.ScheduleController.AddCategory(AddCategoryRequest model) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Controllers\ScheduleController.cs:line 30
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-15 21:21:08.566 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/schedule/add - 500 null text/plain; charset=utf-8 1665.2542ms
2024-09-15 21:22:53.281 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 21:22:53.400 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 21:22:53.400 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 21:22:53.402 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 21:22:53.403 +07:00 [INF] Hosting environment: Development
2024-09-15 21:22:53.403 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 21:22:53.867 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 21:22:54.016 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 149.7039ms
2024-09-15 21:22:54.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 21:22:54.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 21:22:54.027 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 3.3097ms
2024-09-15 21:22:54.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.6937ms
2024-09-15 21:22:54.162 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 21:22:54.320 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 157.9569ms
2024-09-15 21:23:05.419 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/schedule/add - application/json 87
2024-09-15 21:23:05.441 +07:00 [INF] CORS policy execution successful.
2024-09-15 21:23:05.444 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.ScheduleController.AddCategory (Movie.API)'
2024-09-15 21:23:05.463 +07:00 [INF] Route matched with {action = "AddCategory", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] AddCategory(Movie.API.Requests.AddCategoryRequest) on controller Movie.API.Controllers.ScheduleController (Movie.API).
2024-09-15 21:23:06.810 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__schedule_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
WHERE [s].[Name] = @__schedule_Name_0
2024-09-15 21:23:06.896 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.AddScheduleResponse'.
2024-09-15 21:23:06.913 +07:00 [INF] Executed action Movie.API.Controllers.ScheduleController.AddCategory (Movie.API) in 1445.2514ms
2024-09-15 21:23:06.913 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.ScheduleController.AddCategory (Movie.API)'
2024-09-15 21:23:06.921 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/schedule/add - 200 null application/json; charset=utf-8 1501.9889ms
2024-09-15 21:23:13.756 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/api/schedule/all - null null
2024-09-15 21:23:13.758 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.ScheduleController.GetCategories (Movie.API)'
2024-09-15 21:23:13.762 +07:00 [INF] Route matched with {action = "GetCategories", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] GetCategories() on controller Movie.API.Controllers.ScheduleController (Movie.API).
2024-09-15 21:23:13.827 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
2024-09-15 21:23:13.838 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.GetSchedulesResponse'.
2024-09-15 21:23:13.844 +07:00 [INF] Executed action Movie.API.Controllers.ScheduleController.GetCategories (Movie.API) in 81.6279ms
2024-09-15 21:23:13.844 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.ScheduleController.GetCategories (Movie.API)'
2024-09-15 21:23:13.844 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/api/schedule/all - 200 null application/json; charset=utf-8 88.8743ms
2024-09-15 21:23:22.470 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/schedule/add - application/json 87
2024-09-15 21:23:22.471 +07:00 [INF] CORS policy execution successful.
2024-09-15 21:23:22.471 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.ScheduleController.AddCategory (Movie.API)'
2024-09-15 21:23:22.471 +07:00 [INF] Route matched with {action = "AddCategory", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] AddCategory(Movie.API.Requests.AddCategoryRequest) on controller Movie.API.Controllers.ScheduleController (Movie.API).
2024-09-15 21:23:22.487 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__schedule_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
WHERE [s].[Name] = @__schedule_Name_0
2024-09-15 21:23:22.594 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedule] ([CreateDate], [Description], [IsActive], [LastModifiedDate], [Name], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-09-15 21:23:22.615 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.AddScheduleResponse'.
2024-09-15 21:23:22.616 +07:00 [INF] Executed action Movie.API.Controllers.ScheduleController.AddCategory (Movie.API) in 144.2411ms
2024-09-15 21:23:22.616 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.ScheduleController.AddCategory (Movie.API)'
2024-09-15 21:23:22.616 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/schedule/add - 200 null application/json; charset=utf-8 145.6399ms
2024-09-15 21:23:28.089 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/api/schedule/all - null null
2024-09-15 21:23:28.089 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.ScheduleController.GetCategories (Movie.API)'
2024-09-15 21:23:28.089 +07:00 [INF] Route matched with {action = "GetCategories", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] GetCategories() on controller Movie.API.Controllers.ScheduleController (Movie.API).
2024-09-15 21:23:28.091 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
2024-09-15 21:23:28.091 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.GetSchedulesResponse'.
2024-09-15 21:23:28.091 +07:00 [INF] Executed action Movie.API.Controllers.ScheduleController.GetCategories (Movie.API) in 2.2169ms
2024-09-15 21:23:28.091 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.ScheduleController.GetCategories (Movie.API)'
2024-09-15 21:23:28.091 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/api/schedule/all - 200 null application/json; charset=utf-8 2.8125ms
2024-09-15 21:23:50.310 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/api/country/all - null null
2024-09-15 21:23:50.310 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.CountryController.GetCountries (Movie.API)'
2024-09-15 21:23:50.313 +07:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] GetCountries() on controller Movie.API.Controllers.CountryController (Movie.API).
2024-09-15 21:23:50.323 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[Description], [c].[IsActive], [c].[LastModifiedDate], [c].[Name], [c].[Status]
FROM [Countries] AS [c]
2024-09-15 21:23:50.338 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.GetCountriesResponse'.
2024-09-15 21:23:50.341 +07:00 [INF] Executed action Movie.API.Controllers.CountryController.GetCountries (Movie.API) in 27.254ms
2024-09-15 21:23:50.341 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.CountryController.GetCountries (Movie.API)'
2024-09-15 21:23:50.341 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/api/country/all - 200 null application/json; charset=utf-8 31.3927ms
2024-09-15 21:25:09.906 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 21:25:10.029 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 21:25:10.030 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 21:25:10.032 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 21:25:10.032 +07:00 [INF] Hosting environment: Development
2024-09-15 21:25:10.032 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 21:25:10.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 21:25:10.489 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 144.5405ms
2024-09-15 21:25:10.496 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 21:25:10.498 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 21:25:10.502 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 3.8367ms
2024-09-15 21:25:10.520 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.6947ms
2024-09-15 21:25:10.746 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 21:25:10.887 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.5807ms
2024-09-15 21:25:18.597 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/api/schedule/all - null null
2024-09-15 21:25:18.617 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.ScheduleController.GetCategories (Movie.API)'
2024-09-15 21:25:18.630 +07:00 [INF] Route matched with {action = "GetCategories", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] GetCategories() on controller Movie.API.Controllers.ScheduleController (Movie.API).
2024-09-15 21:25:19.719 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
2024-09-15 21:25:19.885 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.DataRespone'.
2024-09-15 21:25:19.908 +07:00 [INF] Executed action Movie.API.Controllers.ScheduleController.GetCategories (Movie.API) in 1274.5178ms
2024-09-15 21:25:19.909 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.ScheduleController.GetCategories (Movie.API)'
2024-09-15 21:25:19.915 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/api/schedule/all - 200 null application/json; charset=utf-8 1317.687ms
2024-09-15 21:25:46.921 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/schedule/update/2 - application/json 120
2024-09-15 21:25:46.925 +07:00 [INF] CORS policy execution successful.
2024-09-15 21:25:46.926 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.ScheduleController.UpdateCategory (Movie.API)'
2024-09-15 21:25:46.948 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateCategoryRequest) on controller Movie.API.Controllers.ScheduleController (Movie.API).
2024-09-15 21:25:46.975 +07:00 [INF] Executed action Movie.API.Controllers.ScheduleController.UpdateCategory (Movie.API) in 26.9876ms
2024-09-15 21:25:46.976 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.ScheduleController.UpdateCategory (Movie.API)'
2024-09-15 21:25:46.999 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
UpdateCategoryRequest -> UpdateScheduleCommand
Movie.API.Requests.UpdateCategoryRequest -> Movie.API.Features.Schedules.UpdateScheduleCommand
   at lambda_method88(Closure, UpdateCategoryRequest, UpdateScheduleCommand, ResolutionContext)
   at Movie.API.Controllers.ScheduleController.UpdateCategory(Int32 id, UpdateCategoryRequest model) in D:\Workplace\MoviesApp\Movie-api\Movie.API\Controllers\ScheduleController.cs:line 37
   at lambda_method83(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-15 21:25:47.002 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/schedule/update/2 - 500 null text/plain; charset=utf-8 80.9987ms
2024-09-15 21:27:52.067 +07:00 [INF] User profile is available. Using 'C:\Users\phuoc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 21:27:52.187 +07:00 [INF] Now listening on: https://localhost:7039
2024-09-15 21:27:52.187 +07:00 [INF] Now listening on: http://localhost:5203
2024-09-15 21:27:52.190 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 21:27:52.190 +07:00 [INF] Hosting environment: Development
2024-09-15 21:27:52.190 +07:00 [INF] Content root path: D:\Workplace\MoviesApp\Movie-api\Movie.API
2024-09-15 21:27:52.687 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/index.html - null null
2024-09-15 21:27:52.836 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/index.html - 200 null text/html;charset=utf-8 151.4605ms
2024-09-15 21:27:52.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_vs/browserLink - null null
2024-09-15 21:27:52.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 21:27:52.850 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 2.7557ms
2024-09-15 21:27:52.870 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.8757ms
2024-09-15 21:27:53.109 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - null null
2024-09-15 21:27:53.251 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7039/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.6977ms
2024-09-15 21:28:07.357 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/schedule/update/2 - application/json 120
2024-09-15 21:28:07.377 +07:00 [INF] CORS policy execution successful.
2024-09-15 21:28:07.379 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.ScheduleController.UpdateCategory (Movie.API)'
2024-09-15 21:28:07.399 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateScheduleRequest) on controller Movie.API.Controllers.ScheduleController (Movie.API).
2024-09-15 21:28:08.841 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
WHERE [s].[Id] = @__request_Id_0
2024-09-15 21:28:08.897 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
WHERE [s].[Name] = @__request_Name_0
2024-09-15 21:28:09.080 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Schedule] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 21:28:09.097 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateScheduleResponse'.
2024-09-15 21:28:09.115 +07:00 [INF] Executed action Movie.API.Controllers.ScheduleController.UpdateCategory (Movie.API) in 1712.9388ms
2024-09-15 21:28:09.116 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.ScheduleController.UpdateCategory (Movie.API)'
2024-09-15 21:28:09.121 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/schedule/update/2 - 200 null application/json; charset=utf-8 1764.489ms
2024-09-15 21:28:18.421 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7039/api/schedule/update/2 - application/json 118
2024-09-15 21:28:18.423 +07:00 [INF] CORS policy execution successful.
2024-09-15 21:28:18.424 +07:00 [INF] Executing endpoint 'Movie.API.Controllers.ScheduleController.UpdateCategory (Movie.API)'
2024-09-15 21:28:18.424 +07:00 [INF] Route matched with {action = "UpdateCategory", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Movie.API.Responses.Response] UpdateCategory(Int32, Movie.API.Requests.UpdateScheduleRequest) on controller Movie.API.Controllers.ScheduleController (Movie.API).
2024-09-15 21:28:18.485 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
WHERE [s].[Id] = @__request_Id_0
2024-09-15 21:28:18.488 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Name_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreateDate], [s].[Description], [s].[IsActive], [s].[LastModifiedDate], [s].[Name], [s].[Status]
FROM [Schedule] AS [s]
WHERE [s].[Name] = @__request_Name_0
2024-09-15 21:28:18.492 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 30), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Schedule] SET [CreateDate] = @p0, [Description] = @p1, [IsActive] = @p2, [LastModifiedDate] = @p3, [Name] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-15 21:28:18.493 +07:00 [INF] Executing ObjectResult, writing value of type 'Movie.API.Responses.UpdateScheduleResponse'.
2024-09-15 21:28:18.493 +07:00 [INF] Executed action Movie.API.Controllers.ScheduleController.UpdateCategory (Movie.API) in 69.4979ms
2024-09-15 21:28:18.494 +07:00 [INF] Executed endpoint 'Movie.API.Controllers.ScheduleController.UpdateCategory (Movie.API)'
2024-09-15 21:28:18.494 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7039/api/schedule/update/2 - 200 null application/json; charset=utf-8 72.6292ms
